<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Formulaire √©tude de raccordement</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.23/jspdf.plugin.autotable.min.js"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/npm/compressorjs@1.2.1/dist/compressor.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  </head>
  <body>
    <header>
      <h1>Etude de raccordement</h1>
    </header>
    <main>
      <form id="raccordementForm">
	<hr>
	<h3>Informations client</h3>
	<label for="nomCli">Nom</label>
	<input type="text" id="nomCli" oninput="this.value = this.value.toUpperCase()" maxlength="64" required />
	<label for="prenomCli">Pr√©nom</label>
	<input type="text" id="prenomCli" maxlenght="64" required />
	<label for="adresseCli">Adresse</label>
	<input type="text" id="adresseCli" maxlenght="64" required />
	<label for="cpCli">Code postal</label>
	<input type="integer" id="cpCli" maxlenght="5" required />
	<label for="villeCli">Ville</label>
        <input type="text" id="villeCli" oninput="this.value = this.value.toUpperCase()" required />
	<label for="complementAdrCli">Compl√©ment d'adresse</label>
	<textarea id="complementAdrCli" rows="3"></textarea>
	<label for="noDossier">Num√©ro de dossier OSR</label>
	<input type="integer" id="noDossier" maxlenght="64" required />
<hr />
<h3>Coordonn√©es des travaux</h3>
<div id="sectionTravaux">
    <label for="nomTravaux">Nom</label>
    <input type="text" id="nomTravaux" oninput="this.value = this.value.toUpperCase()" required />
    
    <label for="prenomTravaux">Pr√©nom</label>
    <input type="text" id="prenomTravaux" required />
    <button type="button" onclick="syncIdentite()" style="margin-top: 10px">
    <i class="fas fa-copy"></i> Identique au nom du client</button>
    <label for="adresseTravaux">Adresse (Travaux)</label>
    <input type="text" id="adresseTravaux" required />
    <button type="button" onclick="copyAdresseClient()" style="margin-bottom: 10px;">
    <i class="fas fa-copy"></i> Identique √† l'adresse client
</button>
    <label for="complementAdrTravaux">Compl√©ment d'adresse</label>
    <textarea id="complementAdrTravaux" rows="2"></textarea>
    <label for="cpTravaux">Code postal</label>
    <input type="text" id="cpTravaux" maxlength="5" required />
    <label for="villeTravaux">Ville</label>
    <input type="text" id="villeTravaux" oninput="this.value = this.value.toUpperCase()" required />
    <label for="noDipole">Num√©ro dipole</label>
	<input type="integer" id="noDipole" required />
	<label for="noPoste">Nom et n¬∞ du poste</label>
	<input type="text" id="noPoste" required />
		<label for="dteSouhaitee">Date souhait√©e</label>
	<input type="date" id="dteSouhaitee" required />
</div>
<hr />
        <h2>Gestion des photos</h2>
        <input type="file" id="photos" accept="image/*" multiple>
        <button type="button" id="take-photo">üì∑ Prendre une photo</button>
        <video id="camera" autoplay style="display:none; width:300px;"></video>
        <canvas id="camera-canvas" style="display:none;"></canvas>
	<div style="text-align: center; margin-top: 10px;">
            <button type="button" id="save-photo" style="display: none;" class="capture-button">
	         <i class="fas fa-camera"></i>
	    </button>
	</div>
        <h3>Aper√ßu des photos</h3>
        <div id="photo-preview"></div>

	<label for="travauxCli">Travaux √† r√©aliser par le <span style="text-decoration:underline"> client</span></label>
	<textarea id="travauxCli" rows="4"></textarea>
	<label for="travauxEdf">Travaux √† r√©aliser par <span style="color:red"> EDF</span></label>
	<textarea id="travauxEdf" rows="4"></textarea>
	<hr />
	<h3>Etude du branchement √©lectrique</h3>
	<label for="energieUtil">Energie utilis√©e</label>
        <select id="energieUtil" required>
            <option value="" disabled selected>S√©lectionnez un type d'√©nergie</option>
            <option value="conso">consomation</option>
            <option value="prod">production</option>
        </select>
        <hr />
        <h3>Signature de l'agent EDF</h3>
	<canvas id="signature-representant-canvas" ></canvas>
	<button type="button" id="clear-representant" class="remove-sign" >Effacer</button>
	<hr />
<button type="submit" id="generatePDF">G√©n√©rer le PDF</button>
      </form>
      <script src="script.js"></script>
    </main>
  </body>
</html>
